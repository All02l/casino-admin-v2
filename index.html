<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { color: white; background: #1c1c1c; font-family: sans-serif; padding: 20px; text-align: center; }
        .card { background: #2c2c2c; padding: 15px; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        h2 { margin-bottom: 25px; color: #0088cc; }
        h3 { margin-top: 0; font-size: 18px; }
        p { color: #aaaaaa; font-size: 14px; }
        button { 
            background: #0088cc; color: white; border: none; 
            padding: 12px; width: 100%; border-radius: 8px; 
            font-weight: bold; cursor: pointer; transition: 0.2s;
        }
        button:active { transform: scale(0.98); background: #0077b3; }
        .status { color: #00ff00; font-weight: bold; }
    </style>
</head>
<body>
    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–∞–∑–∏–Ω–æ üé∞</h2>

    <div class="card">
        <h3>üí∞ –ö—É—Ä—Å –≤–∞–ª—é—Ç</h3>
        <p>–¢–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –±–æ—Ç–µ</p>
        <button onclick="changeRate()">–ò–∑–º–µ–Ω–∏—Ç—å –∫—É—Ä—Å</button>
    </div>

    <div class="card">
        <h3>üñ• –°–µ—Ä–≤–µ—Ä—ã (1-33)</h3>
        <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—á–µ—Ç–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π</p>
        <button onclick="manageServers()">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Mini App

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞
        function changeRate() {
            let newRate = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –∫—É—Ä—Å (–≤–∏—Ä—Ç –∑–∞ 1 –º–æ–Ω–µ—Ç—É):");
            if (newRate && newRate.trim() !== "") {
                tg.sendData("set_rate:" + newRate.trim());
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
        function manageServers() {
            let serverNum = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞ (1-33):");
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
            if (serverNum && serverNum >= 1 && serverNum <= 33) {
                let accNum = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å—á—ë—Ç–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ " + serverNum + ":");
                if (!accNum) return; // –û—Ç–º–µ–Ω–∞, –µ—Å–ª–∏ –ø—É—Å—Ç–æ
                
                let accName = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—á—ë—Ç–∞ (–Ω–∏–∫):");
                if (!accName) return; // –û—Ç–º–µ–Ω–∞, –µ—Å–ª–∏ –ø—É—Å—Ç–æ

                // –°–∫–ª–µ–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å |
                // –§–æ—Ä–º–∞—Ç: set_server:–Ω–æ–º–µ—Ä|—Å—á–µ—Ç|–Ω–∞–∑–≤–∞–Ω–∏–µ
                let dataString = "set_server:" + serverNum + "|" + accNum + "|" + accName;
                tg.sendData(dataString);
            } else if (serverNum) {
                alert("–û—à–∏–±–∫–∞! –ù–æ–º–µ—Ä —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1 –¥–æ 33.");
            }
        }
    </script>
</body>
</html>
